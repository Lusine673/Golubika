import streamlit as st

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
st.set_page_config(page_title="Blueberry Yield Predictor", page_icon="ü´ê")
st.title("ü´ê –ü—Ä–æ–≥–Ω–æ–∑ –º–∞—Å—Å—ã —è–≥–æ–¥ –≥–æ–ª—É–±–∏–∫–∏")
st.markdown("–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ –±–∞–∑–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –†–ì–ê–£-–ú–°–•–ê –∏–º. –ö.–ê. –¢–∏–º–∏—Ä—è–∑–µ–≤–∞")

# –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
st.sidebar.header("–í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞")

# –í—ã–±–æ—Ä —Å–æ—Ä—Ç–∞
cultivar = st.sidebar.selectbox(
    "–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ä—Ç –≥–æ–ª—É–±–∏–∫–∏:",
    options=["'Bonus'", "'Reka'", "'Patriot'"]
)

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏
intercept = 1.425
coeff_reka = 0.398
coeff_patriot = 0.515

# –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞
if cultivar == "'Reka'":
    predicted_mass = intercept + coeff_reka
elif cultivar == "'Patriot'":
    predicted_mass = intercept + coeff_patriot
else:
    predicted_mass = intercept  # –î–ª—è —Å–æ—Ä—Ç–∞ Bonus

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
st.subheader(f"–ü—Ä–æ–≥–Ω–æ–∑ –¥–ª—è —Å–æ—Ä—Ç–∞ {cultivar}")

col1, col2 = st.columns(2)

with col1:
    st.metric(label="–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º–∞—è –º–∞—Å—Å–∞ —è–≥–æ–¥—ã", value=f"{predicted_mass:.3f} –≥")

with col2:
    st.info(
        f"–ú–æ–¥–µ–ª—å –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏–Ω–µ–π–Ω–æ–π —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ (p=0.048). \n"
        f"–û–±—ä—è—Å–Ω–µ–Ω–Ω–∞—è –¥–∏—Å–ø–µ—Ä—Å–∏—è: 21.5%."
    )

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
st.write("---")
st.markdown("""
**–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∞—è —Å–ø—Ä–∞–≤–∫–∞:**
–î–∞–Ω–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏:
*Y = 1.425 + 0.398 * X_Reka + 0.515 * X_Patriot*
""")
